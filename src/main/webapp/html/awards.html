<!DOCTYPE html>
<html>
  <head>
    <title>Bibs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
   <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">

    </head>
  <body>
  <style>body{margin:12px;}thead{font-weight:bold;}</style>
    
    <ul class="nav nav-tabs">
	  <li><a href="bibs.html">Bibs</a></li>
	  <li><a href="reader.html">Race day</a></li>
	  <li><a href="runners.html">Runners</a></li>
	  <li class="active"><a href="#">Awards</a></li>
	</ul>
	
	<h4>Overall Winners</h4>
	<table id="overall" style="display:none;" class="table"></table>
	
	<h4>Male Leaders</h4>
	<table id="male" style="display:none;" class="table"></table>
	
	<h4>Female Leaders</h4>
	<table id="female" style="display:none;" class="table"></table>
	
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="http://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    
<script>

getAwardsOverall();
getAwardsMale();
getAwardsFemale();

function getAwardsOverall(){
	var request = $.ajax({
		url: "/bibs-server/raceresults/awards/overall",
		type: "GET",
		data: {event:19,page:1,size:5},
		dataType: "json"
		});
	request.done(function( data ) {
		var results =  $('#overall').html();
		for(var i in data){
			results += "<tr>";
			results += "<td>"+(Math.max(i,0)+1)+"</td>";
			results += "<td>"+data[i].timeoverall+"</td>";
			results += "<td>"+data[i].bib+"</td>";
			results += "<td>"+data[i].firstname+" "+data[i].lastname+"</td>";
			results += "<td>"+data[i].city+", "+data[i].state+"</td>";
			results += "<td>"+data[i].age+"</td>";
			results += "</tr>";
		}
		$('#overall').html(results);
		$('#overall').show(500);
		});
	request.fail(function( jqXHR, textStatus ) {
		alert( "Error: " + textStatus );
		});
}

function getAwardsMale(){
	var request = $.ajax({
		url: "/bibs-server/raceresults/awards/gender",
		type: "GET",
		data: {event:19,gender:"M",page:1,size:5},
		dataType: "json"
		});
	request.done(function( data ) {
		var results =  $('#male').html();
		for(var i in data){
			results += "<tr>";
			results += "<td>"+(Math.max(i,0)+1)+"</td>";
			results += "<td>"+data[i].timeoverall+"</td>";
			results += "<td>"+data[i].bib+"</td>";
			results += "<td>"+data[i].firstname+" "+data[i].lastname+"</td>";
			results += "<td>"+data[i].city+", "+data[i].state+"</td>";
			results += "<td>"+data[i].age+"</td>";
			results += "</tr>";
		}
		$('#male').html(results);
		$('#male').show(500);
		});
	request.fail(function( jqXHR, textStatus ) {
		alert( "Error: " + textStatus );
		});
}

function getAwardsFemale(){
	var request = $.ajax({
		url: "/bibs-server/raceresults/awards/gender",
		type: "GET",
		data: {event:19,gender:"F",page:1,size:5},
		dataType: "json"
		});
	request.done(function( data ) {
		var results =  $('#female').html();
		for(var i in data){
			results += "<tr>";
			results += "<td>"+(Math.max(i,0)+1)+"</td>";
			results += "<td>"+data[i].timeoverall+"</td>";
			results += "<td>"+data[i].bib+"</td>";
			results += "<td>"+data[i].firstname+" "+data[i].lastname+"</td>";
			results += "<td>"+data[i].city+", "+data[i].state+"</td>";
			results += "<td>"+data[i].age+"</td>";
			results += "</tr>";
		}
		$('#female').html(results);
		$('#female').show(500);
		});
	request.fail(function( jqXHR, textStatus ) {
		alert( "Error: " + textStatus );
		});
}
</script>

</body>
</html>
